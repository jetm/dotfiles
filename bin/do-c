#!/usr/bin/env bash
#
# It's a wrapper around c program
#
# c: Compile and execute C/C++ "scripts" in one go. It avoids to create a
# Makefile file
#
# c project: https://github.com/ryanmjacobs/c
#

# Link APR, thread and math libraries
FLAGS="-Wall -Wextra -O0 -lapr-1 -pthread -lm -lcriterion"
export CFLAGS="${FLAGS} -std=gnu11"
export CXXFLAGS="${FLAGS} -std=gnu++11"
export C_CACHE_SIZE=$((10*1024*1024))  # 10 MBytes

filename="${1}"
shift
c "${filename}" $*

